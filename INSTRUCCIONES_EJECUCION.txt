================================================================================
                    INSTRUCCIONES DE EJECUCI√ìN
                    Sistema de Consultas Oftalmol√≥gicas
                    Cl√≠nica "Visi√≥n Clara"
================================================================================

Este documento explica c√≥mo ejecutar el sistema completo paso a paso.

================================================================================
                    PREREQUISITOS
================================================================================

Antes de comenzar, aseg√∫rese de tener instalado:

1. ‚úÖ Python 3.12 (desde Microsoft Store o python.org)
2. ‚úÖ Navegador Google Chrome (versi√≥n actualizada)
3. ‚úÖ ChromeDriver compatible con su versi√≥n de Chrome
4. ‚úÖ Visual Studio Code (opcional, para editar c√≥digo)

================================================================================
                    PASO 1: INSTALAR DEPENDENCIAS
================================================================================

1. Abra PowerShell (Terminal en VS Code)

2. Navegue a la carpeta Semana 5:
   
   cd "c:\ProyectosIACC\Evaluacion de sist QA\Semana 5"

3. Instale las dependencias de Python:
   
   pip install -r requirements.txt

4. Verifique que se instalaron correctamente:
   
   pip list
   
   Debe ver:
   - Flask 3.0.0
   - selenium 4.15.0


================================================================================
                    PASO 2: DESCARGAR CHROMEDRIVER
================================================================================

1. Verifique la versi√≥n de su Chrome:
   - Abra Chrome
   - Vaya a: chrome://settings/help
   - Anote la versi√≥n (ejemplo: 120.0.6099.109)

2. Descargue ChromeDriver:
   - Vaya a: https://googlechromelabs.github.io/chrome-for-testing/
   - Descargue la versi√≥n que coincida con su Chrome
   - Descargue la versi√≥n "win64" para Windows

3. Extraiga el archivo ZIP:
   - Extraiga chromedriver.exe
   - Col√≥quelo en: Semana 5\chromedriver-win64\

4. Agregue a la variable PATH (temporal):
   En PowerShell:
   
   $env:PATH += ";$PWD\chromedriver-win64"


================================================================================
                    PASO 3: EJECUTAR EL SISTEMA
================================================================================

OPCI√ìN A: Ejecuci√≥n Manual (2 Terminales)
------------------------------------------

üñ•Ô∏è TERMINAL 1 - Servidor Flask:

1. Abra una terminal PowerShell
2. Navegue a la carpeta Semana 5
3. Ejecute:
   
   python sistema_consultas.py

4. Debe ver:
   
   ================================================================================
   SISTEMA DE CONSULTAS OFTALMOL√ìGICAS - CL√çNICA VISI√ìN CLARA
   ================================================================================
   Servidor iniciando en: http://localhost:5000
   Presiona CTRL+C para detener
   ================================================================================

5. ¬°NO CIERRE ESTA TERMINAL! D√©jela corriendo


üñ•Ô∏è TERMINAL 2 - Navegador Web:

1. Abra su navegador Chrome
2. Vaya a: http://localhost:5000
3. Deber√≠a ver el sistema de consultas funcionando


OPCI√ìN B: Ejecutar Pruebas Automatizadas (2 Terminales)
-------------------------------------------------------

üñ•Ô∏è TERMINAL 1 - Servidor Flask:

1. Ejecute (igual que OPCI√ìN A):
   
   python sistema_consultas.py


üñ•Ô∏è TERMINAL 2 - Pruebas Selenium:

1. Abra otra terminal PowerShell
2. Navegue a la carpeta Semana 5
3. Ejecute:
   
   python pruebas_selenium_consultas.py

4. Ver√° las 10 pruebas ejecut√°ndose autom√°ticamente
5. El navegador se abrir√° y cerrar√° autom√°ticamente
6. Al final ver√° el resumen:
   
   ================================================================================
     RESUMEN DE PRUEBAS
   ================================================================================
     ‚úÖ Pruebas exitosas: 10
     ‚ùå Pruebas fallidas: 0
     üìä Total de pruebas: 10
     üìà Tasa de √©xito: 100.0%
   ================================================================================


================================================================================
                    PASO 4: USO DEL SISTEMA (Manual)
================================================================================

Una vez que el servidor est√© corriendo (http://localhost:5000):

üìÖ AGENDAR UNA CITA:
-------------------
1. Use la pesta√±a "Agendar Cita"
2. Complete el formulario:
   - RUT: 12345678-9 o 98765432-1 (pacientes de ejemplo)
   - Doctor: Seleccione uno de la lista
   - Fecha: Seleccione una fecha futura
   - Hora: Ingrese hora en formato 24h (ejemplo: 10:30)
   - Tipo: Seleccione el tipo de consulta
3. Click en "Agendar Cita"
4. Ver√° mensaje de confirmaci√≥n en verde

üîç CONSULTAR CITAS:
------------------
1. Click en pesta√±a "Consultar Citas"
2. Puede dejar el RUT vac√≠o (ver todas) o ingresar un RUT espec√≠fico
3. Click en "Buscar Citas"
4. Ver√° la lista de citas agendadas
5. Puede cancelar citas desde aqu√≠

üìã VER HISTORIAL M√âDICO:
------------------------
1. Click en pesta√±a "Historial M√©dico"
2. Ingrese RUT: 12345678-9 o 98765432-1
3. Click en "Ver Historial"
4. Ver√° el historial de consultas previas

‚öôÔ∏è ESTADO DEL SISTEMA:
----------------------
1. Click en pesta√±a "Estado del Sistema"
2. Click en "Actualizar Estado"
3. Ver√° estad√≠sticas del sistema


================================================================================
                    PASO 5: GENERAR CAPTURAS
================================================================================

Para generar las 23 capturas solicitadas:

1. Lea detenidamente: GUIA_CAPTURAS.txt

2. Siga las instrucciones paso a paso

3. Guarde cada captura en: Semana 5\capturas\
   - Nombres: Captura01.png, Captura02.png, ..., Captura23.png

4. Algunas capturas requieren crear archivos adicionales:
   - Dockerfile
   - docker-compose.yml
   - Archivos de m√©tricas y KPIs
   (Todos est√°n detallados en la gu√≠a)


================================================================================
                    SOLUCI√ìN DE PROBLEMAS
================================================================================

‚ùå Error: "No se encuentra el m√≥dulo Flask"
-------------------------------------------
Soluci√≥n:
pip install Flask==3.0.0


‚ùå Error: "No se encuentra ChromeDriver"
---------------------------------------
Soluci√≥n:
1. Verifique que chromedriver.exe est√© en la carpeta correcta
2. Agregue a PATH o col√≥quelo en la carpeta Semana 5
3. Verifique que la versi√≥n coincida con su Chrome


‚ùå Error: "Puerto 5000 ya est√° en uso"
--------------------------------------
Soluci√≥n:
1. Cierre otros procesos que usen el puerto 5000
2. O modifique el puerto en sistema_consultas.py:
   app.run(debug=True, port=5001)  # Cambiar a 5001


‚ùå Error: "Las pruebas fallan"
-----------------------------
Soluci√≥n:
1. Aseg√∫rese de que el servidor Flask est√© corriendo PRIMERO
2. Espere 3-5 segundos despu√©s de iniciar Flask
3. Verifique que http://localhost:5000 funciona en el navegador
4. Cierre otros navegadores Chrome abiertos


‚ùå Error: "Paciente no encontrado"
----------------------------------
Soluci√≥n:
Use solo estos RUTs de ejemplo:
- 12345678-9 (Juan P√©rez)
- 98765432-1 (Ana Silva)


‚ùå Error: "Fecha inv√°lida"
--------------------------
Soluci√≥n:
La fecha debe ser futura (posterior a hoy).
Use formato: YYYY-MM-DD en el campo de fecha.


================================================================================
                    COMANDOS √öTILES
================================================================================

# Ver versi√≥n de Python
python --version

# Ver paquetes instalados
pip list

# Reinstalar dependencias
pip install --upgrade -r requirements.txt

# Limpiar cach√© de Python
pip cache purge

# Ver procesos usando puerto 5000
netstat -ano | findstr :5000

# Detener servidor Flask
CTRL + C (en la terminal donde corre)


================================================================================
                    ESTRUCTURA DE ARCHIVOS
================================================================================

Semana 5/
‚îú‚îÄ‚îÄ sistema_consultas.py          ‚Üê Servidor Flask principal
‚îú‚îÄ‚îÄ pruebas_selenium_consultas.py ‚Üê Pruebas automatizadas
‚îú‚îÄ‚îÄ requirements.txt              ‚Üê Dependencias
‚îú‚îÄ‚îÄ Informe_Tarea_Semana5.txt     ‚Üê Informe completo
‚îú‚îÄ‚îÄ GUIA_CAPTURAS.txt             ‚Üê Gu√≠a de evidencias
‚îú‚îÄ‚îÄ INSTRUCCIONES_EJECUCION.txt   ‚Üê Este archivo
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html                ‚Üê Interfaz web
‚îú‚îÄ‚îÄ capturas/                     ‚Üê Aqu√≠ van las 23 capturas
‚îî‚îÄ‚îÄ chromedriver-win64/           ‚Üê ChromeDriver


================================================================================
                    CONTACTO Y SOPORTE
================================================================================

Si tiene problemas:

1. Revise este documento completo
2. Lea los mensajes de error detenidamente
3. Verifique que todos los prerequisitos est√©n instalados
4. Consulte GUIA_CAPTURAS.txt para instrucciones espec√≠ficas

================================================================================

‚úÖ ¬°Sistema listo para usar!

Recuerde:
- Primero inicie el servidor Flask
- Luego abra el navegador o ejecute pruebas
- Siga la gu√≠a de capturas para las evidencias

================================================================================
